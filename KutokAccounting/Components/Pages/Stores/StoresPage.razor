@page "/stores"
@inject IStoresService StoresService
@inject IDialogService DialogService

<MudDataGrid
    SortMode="SortMode.Multiple"
    @ref="_dataGrid"
    T="StoreDto"
    ServerData="GetStoresAsync"
    FilterMode="DataGridFilterMode.ColumnFilterMenu">
    <ToolBarContent>
        <MudStack Justify="Justify.SpaceAround" Style="width: 100%; margin-top: 9px">
            <MudStack Row="true" Justify="Justify.SpaceAround" AlignItems="AlignItems.Center" Style="width:100%;">
                <MudStack Row="true" Style="width:50%;" Justify="Justify.FlexStart">
                    <MudText Typo="Typo.h6">МАГАЗИНИ</MudText>
                </MudStack>
                <MudButton aria-label="search"
                           EndIcon="@Icons.Material.Filled.Search"
                           Variant="Variant.Filled"
                           Color="Color.Info"
                           Size="Size.Medium"
                           OnClick="OnSearchButtonClick">
                    ПОШУК
                </MudButton>

                <MudButton Variant="Variant.Filled" Style="max-height: 38px" Color="Color.Primary"
                           OnClick="OnAddShopButtonClick">
                    ДОДАТИ МАГАЗИН
                </MudButton>
            </MudStack>
        </MudStack>
    </ToolBarContent>
    <Columns>
        <PropertyColumn Property="s => s.Name" Title="Назва" Sortable="false" Style="font-weight:bold;"/>
        <TemplateColumn CellClass="d-flex justify-end">
            <CellTemplate>
                <MudStack Row>
                    <MudButton Size="Size.Medium" Variant="Variant.Filled" Color="Color.Primary"
                               OnClick="() => OnEditButtonClick(context.Item)">
                        РЕДАГУВАТИ
                    </MudButton>
                    <MudButton Size="Size.Medium" Variant="Variant.Filled" Color="Color.Error"
                               OnClick="() => OnDeleteButtonClick(context.Item)">
                        ВИДАЛИТИ
                    </MudButton>
                    <MudButton Size="Size.Medium" Variant="Variant.Filled" Color="Color.Default"
                               OnClick="() => OnMoreButtonClick(context.Item)">
                        БІЛЬШЕ
                    </MudButton>
                </MudStack>
            </CellTemplate>
        </TemplateColumn>
    </Columns>
    <PagerContent>
        <MudDataGridPager T="StoreDto"></MudDataGridPager>
    </PagerContent>
</MudDataGrid>